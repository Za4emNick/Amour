<!doctype html>
<html lang="tr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Amour ‚Äî Men√º</title>
    <meta name="description" content="Amour Caf√© ‚Äî Yalova. Siyah-beyaz minimalist men√º.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Parisienne&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter','ui-sans-serif','system-ui','sans-serif'],
              script: ['Parisienne','cursive']
            },
            colors: { bg: '#0b0b0b' }
          }
        }
      }
    </script>
    <style>
      body { background:#0b0b0b; color:#fff; }
      .card { background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.08); border-radius: 12px; }
      .img {
        aspect-ratio: 4/3;
        object-fit: cover;
        width: 100%;
        border-radius: 12px;
        filter: brightness(1.15) contrast(1.1) saturate(1.15);
        transition: all 0.3s ease;
      }
      .img:hover {
        filter: brightness(1.25) contrast(1.2) saturate(1.2);
        transform: scale(1.02);
      }
      .divider { border-top: 1px dashed rgba(255,255,255,.1); }

      @media (max-width: 768px) {
        #mobile-layout {
          display: grid;
          grid-template-columns: 100px 1fr;
          gap: 0.5rem;
        }
        #mobile-menu {
          display: flex;
          flex-direction: column;
          gap: 6px;
          overflow-y: auto;
          height: calc(100vh - 120px);
          padding-right: 4px;
          border-right: 1px solid rgba(255,255,255,0.1);
        }
        #mobile-menu button {
          font-size: 0.8rem;
          text-align: left;
          padding: 6px 8px;
          border-radius: 8px;
          border: 1px solid rgba(255,255,255,0.1);
          background: rgba(255,255,255,0.02);
          color: white;
        }
        #mobile-menu button.active {
          background: white;
          color: black;
        }
      }

      .img[src*="su.webp"],[src*="soda.webp"], [src*="sikma-portakal.webp"], [src*="frozen.webp"], [src*="magnolia.webp"], [src*="profiterol.webp"],
      [src*="lotus-cup.webp"], [src*="oreo-cup.webp"], [src*="cold-brew.webp"], [src*="iced-white-mocha.webp"],
      [src*="limonata.webp"], [src*="italian-soda.webp"], [src*="churchill.webp"], [src*="enerji-icecek.webp"], [src*="mesrubatlar.webp"],
      [src*="soda.webp"], [src*="meyveli-soda.webp"], [src*="milkshake.webp"], [src*="san-sebastian.webp"], [src*="brownie.webp"], [src*="iced-caramel-latte.webp"], 
      [src*="amour-milano.webp"], [src*="amour-special.webp"], [src*="amour-melo.webp"], [src*="amour-vibe.webp"],
      [src*="amour-sky.webp"], [src*="amour-lime.webp"], [src*="amour-wild-berry.webp"], [src*="amour-hibiscus.webp"], [src*="amour-mango-portakal.webp"], [src*="amour-dark.webp"],
      [src*="amour-lime-zero.webp"], [src*="iced-mocha.webp"], [src*="fistikli-cup.webp"], [src*="lotus-cheesecake.webp"], [src*="iced-americano.webp"], [src*="iced-latte.webp"], [src*="mini-cookies.webp"] {
        aspect-ratio: 3 / 4 !important;
        object-fit: cover;
        object-position: center;
      }

      /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ –Ω–∏–∂–Ω–µ–º—É –∫—Ä–∞—é */
      .card { display: flex; flex-direction: column; justify-content: space-between; height: 100%; }
      .card .p-2, .card .p-3 { flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
      .grid { align-items: start; }
      @media (max-width: 768px) { .card img { max-height: none; } }

      /* === Reveal-on-scroll === */
      .reveal { opacity: 0; transform: translateY(16px) scale(.98); transition: opacity .6s ease, transform .6s ease; will-change: opacity, transform; }
      .reveal.in { opacity: 1; transform: none; }
      @media (prefers-reduced-motion: reduce) { .reveal { transition: none; transform: none; } }

      /* zoom –¥–ª—è –º–æ–¥–∞–ª–∫–∏ */
      @keyframes zoom { from { transform: scale(.85); opacity:.3; } to { transform: scale(1); opacity:1; } }
    </style>
  </head>
  <body class="font-sans">
    <div id="root"></div>

    <!-- ===== APP SCRIPT (—Ä–µ–Ω–¥–µ—Ä + –º–æ–¥–∞–ª–∫–∞) ===== -->
    <script>
      const CATS = {
        hot:{ key:"hot", title:"SICAK ƒ∞√áECEKLER" },
        herbal:{ key:"herbal", title:"Bƒ∞TKƒ∞ √áAYLARI" },
        cocktails:{ key:"cocktails", title:"KOKTEYLLER" },
        cold:{ key:"cold", title:"SOƒûUK ƒ∞√áECEKLER" },
        icecream:{ key:"icecream", title:"DONDURMA" },
        coffees:{ key:"coffees", title:"KAHVELER" },
        filter:{ key:"filter", title:"Fƒ∞LTRE KAHVELER" },
        iced:{ key:"iced", title:"SOƒûUK KAHVELER" },
        extras:{ key:"extras", title:"EKSTRALAR" },
        desserts:{ key:"desserts", title:"TATLILAR"},
      };

      /* MENU ‚Äî id/—Ü–µ–Ω—ã/–∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, –¥–ª—è –ö–û–§–ï –¥–æ–±–∞–≤–ª–µ–Ω—ã: desc, ingredients, caffeine */
      const MENU = [ 
        // SICAK
        { id:"cay", cat:"hot", name:"√áay", price:50, img:"images/cay.webp" },
        { id:"fincan-cay", cat:"hot", name:"Fincan √áay", price:80, img:"images/fincan-cay.webp" },
        { id:"takeaway-cay", cat:"hot", name:"Take a way √áay", price:80, img:"images/takeaway-cay.webp" },
        { id:"salep", cat:"hot", name:"Salep", price:180, img:"images/salep.webp" },
        { id:"sicak-cikolata", cat:"hot", name:"Sƒ±cak √áikolata", price:180, img:"images/sicak-cikolata.webp" },
        { id:"beyaz-sicak-cikolata", cat:"hot", name:"Beyaz Sƒ±cak √áikolata", price:180, img:"images/beyaz-sicak-cikolata.webp" },
        { id:"chai-latte", cat:"hot", name:"Chai Tea Latte", price:180, img:"images/chai-latte.webp" },
        { id:"balli-sut", cat:"hot", name:"Ballƒ± S√ºt", price:150, img:"images/balli-sut.webp" },

        // Bƒ∞TKƒ∞ √áAYLARI
        ...["Ihlamur","Kƒ±≈ü √áayƒ±","Ye≈üil √áay","Ada √áayƒ±","Papatya","Ku≈üburnu √áayƒ±"].map((n,i)=>({ id:`herbal-${i}`, cat:"herbal", name:n, price:190, img:`images/herbal-${i}.webp` })),

        // KOKTEYLLER
        { id:"amour-milano", cat:"cocktails", name:"Amour Milano", price:230, img:"images/amour-milano.webp" },
        { id:"amour-special", cat:"cocktails", name:"Amour Special", price:230, img:"images/amour-special.webp" },
        { id:"amour-melo", cat:"cocktails", name:"Amour Melo", price:230, img:"images/amour-melo.webp" },
        { id:"amour-wild-berry", cat:"cocktails", name:"Amour Wild Berry", price:230, img:"images/amour-wild-berry.webp" },
        { id:"amour-vibe", cat:"cocktails", name:"Amour Vibe", price:230, img:"images/amour-vibe.webp" },
        { id:"amour-sky", cat:"cocktails", name:"Amour Sky", price:230, img:"images/amour-sky.webp" },
        { id:"amour-lime", cat:"cocktails", name:"Amour Lime", price:180, img:"images/amour-lime.webp" },
        { id:"amour-mango-portakal", cat:"cocktails", name:"Amour Mango Portakal (Sƒ±fƒ±r ≈ûeker)", price:180, img:"images/amour-mango-portakal.webp" },
        { id:"amour-lime-zero", cat:"cocktails", name:"Amour Lime (Sƒ±fƒ±r ≈ûeker)", price:180, img:"images/amour-lime-zero.webp" },
        { id:"amour-hibiscus", cat:"cocktails", name:"Amour Hibiscus (Sƒ±fƒ±r ≈ûeker)", price:180, img:"images/amour-hibiscus.webp" },
        { id:"amour-dark", cat:"cocktails", name:"Amour Dark", price:180, img:"images/amour-dark.webp" }, 
        
        // SOƒûUK
        { id:"su", cat:"cold", name:"Su", price:50, img:"images/su.webp" },
        { id:"soda", cat:"cold", name:"Soda", price:100, img:"images/soda.webp" },
        { id:"sikma-portakal", cat:"cold", name:"Sƒ±kma Portakal Suyu", price:180, img:"images/sikma-portakal.webp" },  
        { id:"frozen", cat:"cold", name:"Frozen", price:190, img:"images/frozen.webp" , desc:"mango, √ßilek, ≈üeftali, yaban mersini, frambuaz, orman meyveli"}, 
        { id:"italian-soda", cat:"cold", name:"ƒ∞talian Soda", price:190, img:"images/italian-soda.webp",desc:"nar, √ßilek, mango, b√∂ƒü√ºrtlen" },
        { id:"limonata", cat:"cold", name:"Limonata", price:180, img:"images/limonata.webp", desc:"nar, √ßilek, mango, b√∂ƒü√ºrtlen" },
        { id:"aromali-limonata", cat:"cold", name:"Aromalƒ± Limonata", price:180, img:"images/aromali-limonata.webp", desc:"√ßilek, nar, nane" },
        { id:"churchill", cat:"cold", name:"Churchill", price:100, img:"images/churchill.webp" },
        { id:"enerji-icecek", cat:"cold", name:"Enerji ƒ∞√ßeceƒüi", price:170, img:"images/enerji-icecek.webp" },
        { id:"mesrubatlar", cat:"cold", name:"Me≈ürubatlar", price:120, img:"images/mesrubatlar.webp", desc:"cola turka, uludaƒü portakal, uludaƒü gazoz, ice tea" },
        { id:"milkshake", cat:"cold", name:"Milkshake", price:190, img:"images/milkshake.webp", desc:"√ßikolata, √ßilek, muz, vanilya, oreo" },
        { id:"meyveli-soda", cat:"cold", name:"Meyveli Soda", price:100, img:"images/meyveli-soda.webp", desc:"limon, elma, nar, karpuz √ßilek" },
        
        // DONDURMA
        { id:"icecream-vanilya", cat:"icecream", name:"Vanilya Dondurma", price:60, img:"images/icecream-vanilya.webp" },
        { id:"icecream-visne", cat:"icecream", name:"Vi≈üne Dondurma", price:60, img:"images/icecream-visne.webp" },
        { id:"icecream-cikolata", cat:"icecream", name:"√áikolata Dondurma", price:60, img:"images/icecream-cikolata.webp" },
        { id:"icecream-karamel", cat:"icecream", name:"Karamel Dondurma", price:60, img:"images/icecream-karamel.webp" },
        { id:"icecream-cilek", cat:"icecream", name:"√áilek Dondurma", price:60, img:"images/icecream-cilek.webp" },
        { id:"icecream-parca-cikolata", cat:"icecream", name:"Par√ßa √áikolata Dondurma", price:60, img:"images/icecream-parca-cikolata.webp" },
        { id:"icecream-krokan", cat:"icecream", name:"Krokan Dondurma", price:60, img:"images/icecream-krokan.webp" },

        // KAHVELER (–¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è/—Å–æ—Å—Ç–∞–≤/–∫—Ñ)
        { id:"espresso", cat:"coffees", name:"Espresso", price:{S:140, M:160}, img:"images/espresso.webp",
          desc:"Yoƒüun, kƒ±sa ve g√º√ßl√º kahve.",
          ingredients:["Espresso"],
          caffeine:63
        },
        { id:"espresso-macchiato", cat:"coffees", name:"Espresso Macchiato", sizes:{S:140, M:160}, img:"images/espresso-macchiato.webp",
          desc:"Espresso √ºst√ºne az s√ºt k√∂p√ºƒü√º.",
          ingredients:["Espresso","S√ºt k√∂p√ºƒü√º"],
          caffeine:63
        },
        { id:"americano", cat:"coffees", name:"Coffee Americano", sizes:{S:170, M:190}, img:"images/americano.webp",
          desc:"Sƒ±cak suyla a√ßƒ±lmƒ±≈ü espresso; hafif ve uzun i√ßim.",
          ingredients:["Espresso","Sƒ±cak su"],
          caffeine:75
        },
        { id:"latte", cat:"coffees", name:"Coffee Latte", sizes:{S:180, M:195}, img:"images/latte.webp",
          desc:"Yumu≈üak, s√ºtl√º espresso.",
          ingredients:["Espresso","S√ºt","S√ºt k√∂p√ºƒü√º"],
          caffeine:75
        },
        { id:"white-mocha", cat:"coffees", name:"White Mocha", sizes:{S:185, M:195}, img:"images/white-mocha.webp",
          desc:"Beyaz √ßikolatalƒ± s√ºtl√º espresso.",
          ingredients:["Espresso","S√ºt","Beyaz √ßikolata sosu"],
          caffeine:90
        },
        { id:"mocha", cat:"coffees", name:"Mocha", sizes:{S:185, M:195}, img:"images/mocha.webp",
          desc:"√áikolatalƒ± s√ºtl√º espresso.",
          ingredients:["Espresso","S√ºt","√áikolata sosu"],
          caffeine:90
        },
        { id:"caramel-latte", cat:"coffees", name:"Caramel Latte", sizes:{S:185, M:195}, img:"images/caramel-latte.webp",
          desc:"Karamel aromalƒ± s√ºtl√º espresso.",
          ingredients:["Espresso","S√ºt","Karamel sosu"],
          caffeine:80
        },
        { id:"cappuccino", cat:"coffees", name:"Cappuccino", sizes:{S:180, M:195}, img:"images/cappuccino.webp",
          desc:"Dengeli espresso, s√ºt ve yoƒüun k√∂p√ºk.",
          ingredients:["Espresso","S√ºt","S√ºt k√∂p√ºƒü√º"],
          caffeine:75
        },
        { id:"cortado", cat:"coffees", name:"Cortado", sizes:{S:180, M:190}, img:"images/cortado.webp",
          desc:"Espresso ile az s√ºt dengesinde yumu≈üak i√ßim.",
          ingredients:["Espresso","Az s√ºt"],
          caffeine:75
        },
        { id:"flat-white", cat:"coffees", name:"Flat White", sizes:{S:180, M:190}, img:"images/flat-white.webp",
          desc:"√áift shot espresso ve kadifemsi s√ºt.",
          ingredients:["√áift espresso","S√ºt"],
          caffeine:126
        },
        { id:"latte-macchiato", cat:"coffees", name:"Latte Macchiato", sizes:{S:180, M:195}, img:"images/latte-macchiato.webp",
          desc:"S√ºt √ºzerine nazik espresso dokunu≈üu.",
          ingredients:["Espresso","S√ºt","S√ºt k√∂p√ºƒü√º"],
          caffeine:75
        },
        { id:"nutellatte", cat:"coffees", name:"Nutellatte", price:200, img:"images/nutellatte.webp",
          desc:"Fƒ±ndƒ±k-kakaolu tatta s√ºtl√º espresso.",
          ingredients:["Espresso","S√ºt","Fƒ±ndƒ±k-kakao kremasƒ±"],
          caffeine:80
        },
        { id:"deca-cream", cat:"coffees", name:"Deca Cream (Espresso)", price:200, img:"images/deca-cream.webp",
          desc:"Kafeinsiz, kremamsƒ± espresso.",
          ingredients:["Kafeinsiz espresso"],
          caffeine:6
        },
        { id:"turk-kahvesi", cat:"coffees", name:"T√ºrk Kahvesi", price:170, img:"images/turk-kahvesi.webp",
          desc:"Geleneksel, yoƒüun aromalƒ± ve k√∂p√ºkl√º.",
          ingredients:["T√ºrk kahvesi","Su"],
          caffeine:60
        },
        { id:"double-turk", cat:"coffees", name:"Duble T√ºrk Kahvesi", price:190, img:"images/double-turk.webp",
          desc:"Daha yoƒüun ve uzun kalƒ±cƒ±lƒ±k.",
          ingredients:["T√ºrk kahvesi (duble)","Su"],
          caffeine:120
        },
        { id:"dibek", cat:"coffees", name:"Dibek Kahvesi", price:170, img:"images/dibek.webp",
          desc:"Yumu≈üak i√ßimli, odunsu notalar.",
          ingredients:["Dibek kahvesi","Su"],
          caffeine:60
        },
        { id:"menengic", cat:"coffees", name:"Menengi√ß Kahvesi", price:180, img:"images/menengic.webp",
          desc:"Kafeinsiz, hafif ve aromatik.",
          ingredients:["Menengi√ß","S√ºt veya su"],
          caffeine:0
        },

        // Fƒ∞LTRE
        { id:"kenya", cat:"filter", name:"Kenya AA", price:160, img:"images/kenya.webp" },
        { id:"colombia", cat:"filter", name:"Colombia", price:160, img:"images/colombia.webp" },
        { id:"ethiopia", cat:"filter", name:"Ethiopia", price:160, img:"images/ethiopia.webp" },
        { id:"costarica", cat:"filter", name:"Costarica", price:160, img:"images/costarica.webp" },
        { id:"guatemala", cat:"filter", name:"Guatemala", price:160, img:"images/guatemala.webp" },
        { id:"v60", cat:"filter", name:"V60", price:180, img:"images/v60.webp" },
        { id:"chemex", cat:"filter", name:"Chemex", price:180, img:"images/chemex.webp" },

        // ICED
        { id:"iced-americano", cat:"iced", name:"Iced Americano", price:180, img:"images/iced-americano.webp" },
        { id:"iced-latte", cat:"iced", name:"Iced Latte", price:185, img:"images/iced-latte.webp" },
        { id:"iced-mocha", cat:"iced", name:"Iced Mocha", price:190, img:"images/iced-mocha.webp" },
        { id:"iced-caramel-latte", cat:"iced", name:"Iced Caramel Latte", price:190, img:"images/iced-caramel-latte.webp" },
        { id:"iced-white-mocha", cat:"iced", name:"Iced White Mocha", price:190, img:"images/iced-white-mocha.webp" },
        { id:"cold-brew", cat:"iced", name:"Cold Brew", price:190, img:"images/cold-brew.webp" },
        { id:"frappe", cat:"iced", name:"Frappe", price:190, img:"images/frappe.webp", desc:"√ßikolata, karamel, vanilya, √ßilek" }, 
        { id:"italian-frappe", cat:"iced", name:"Italian Frappe", price:190, img:"images/italian-frappe.webp" },
        { id:"greek-frappe", cat:"iced", name:"Greek Frappe", price:190, img:"images/greek-frappe.webp" },
        { id:"ice-nutellatte", cat:"iced", name:"Ice Nutellatte", price:200, img:"images/ice-nutellatte.webp" },
        { id:"ice-chai-latte", cat:"iced", name:"Ice Chai Tea Latte", price:190, img:"images/ice-chai-latte.webp" },
        { id:"affogato", cat:"iced", name:"Affogato", price:200, img:"images/affogato.webp" },

        // EXTRAS
        { id:"extra-shot", cat:"extras", name:"Ekstra Shot (espresso)", price:50, img:"images/extra-shot.webp" },
        { id:"extra-syrup", cat:"extras", name:"Ekstra ≈ûurup", price:30, img:"images/extra-syrup.webp" },
        { id:"extra-milk", cat:"extras", name:"Ekstra S√ºt", price:30, img:"images/extra-milk.webp" },
        { id:"extra-honey", cat:"extras", name:"Ekstra Bal", price:30, img:"images/extra-honey.webp" },
        { id:"powerbank", cat:"extras", name:"Powerbank (30 dakika)", price:30, img:"images/powerbank.webp" },

        // TATLILAR
        { id:"magnolia", cat:"desserts", name:"Magnolia", price:200, img:"images/magnolia.webp" },
        { id:"profiterol", cat:"desserts", name:"Profiterol", price:250, img:"images/profiterol.webp" },  
        { id:"san-sebastian", cat:"desserts", name:"San Sebastian", price:250, img:"images/san-sebastian.webp" },
        { id:"brownie", cat:"desserts", name:"Brownie", price:200, img:"images/brownie.webp" },
        { id:"lotus-cup", cat:"desserts", name:"Lotus Cup", price:200, img:"images/lotus-cup.webp" },
        { id:"fistikli-cup", cat:"desserts", name:"Fƒ±stƒ±klƒ± Cup", price:200, img:"images/fistikli-cup.webp" }, 
        { id:"oreo-cup", cat:"desserts", name:"Oreo Cup", price:250, img:"images/oreo-cup.webp" },
        { id:"lotus-cheesecake", cat:"desserts", name:"Lotus Cheesecake", price:220, img:"images/lotus-cheesecake.webp" },
        { id:"mini-cookies", cat:"desserts", name:"Atƒ±≈ütƒ±rmalƒ±k Kurabiye √áe≈üitleri", price:70, img:"images/mini-cookies.webp" },
      ];

      const fmt = n => new Intl.NumberFormat('tr-TR',{style:'currency',currency:'TRY',maximumFractionDigits:0}).format(n);
      const root = document.getElementById('root');

      function h(tag, props={}, ...children){
        const el = document.createElement(tag);
        Object.entries(props||{}).forEach(([k,v])=>{
          if (k==='class') el.className=v;
          else if (k==='src') el.src=v;
          else if (k==='dataset' && v && typeof v==='object') {
            Object.entries(v).forEach(([dk,dv]) => el.dataset[dk] = dv);
          }
          else if (v!=null) el.setAttribute(k,v);
        });
        children.flat().forEach(c => el.appendChild(typeof c==='string' ? document.createTextNode(c) : c));
        return el;
      }

      let active='hot';

      function setActive(k){ active=k; render(); window.scrollTo({top:0,behavior:'smooth'}); }

      /* ===== –†–ï–ù–î–ï–† ===== */
      function render() {
        root.innerHTML = '';

        // Header
        const header = h('div', { class:'sticky top-0 z-30 bg-black border-b border-white/10 shadow-sm' },
          h('div', { class:'max-w-6xl mx-auto h-24 px-6 flex items-center justify-between' },
            h('img', { src:'images/logo-segafredo.png', class:'h-12 w-auto opacity-90' }),
            h('img', { src:'images/logo.png', class:'h-20 md:h-24 w-auto mx-auto opacity-100' }),
            h('img', { src:'images/logo-alpedo.png', class:'h-14 w-auto opacity-90' })
          )
        );

        let layout;

        // MOBILE
        if (window.innerWidth <= 768) {
          layout = h('div', { class:'flex' },

            // Left menu
            h('div', { id:'mobile-menu', class:'flex flex-col gap-2 p-2 w-[110px] sticky top-24 h-screen overflow-y-auto border-r border-white/10' },
              ...Object.values(CATS).map(c =>
                h('button', {
                  class:'text-[12px] px-2 py-2 rounded-lg border ' + 
                  (active===c.key ? 'bg-white text-black' : 'bg-neutral-900 text-white hover:bg-white/10'),
                  onclick:()=>setActive(c.key)
                }, c.title)
              )
            ),

            // Content
            h('div', { class:'flex-1 p-2 overflow-y-auto' },
              h('div', { class:'grid grid-cols-2 gap-2' },
                ...MENU.filter(m=>m.cat===active).map(item =>
                  h('article', { class:'card overflow-hidden reveal', dataset:{ id:item.id } },
                    h('img', { class:'img', src:item.img, dataset:{ id:item.id } }),
                    h('div', { class:'p-2 text-xs flex justify-between' },
                      h('span',{}, window.translations?.[window.currentLang]?.[item.id] || item.name),
                      h('span',{}, typeof item.price==='number'
            ? fmt(item.price)
            : item.price && item.price.S
              ? `S ${fmt(item.price.S)} / M ${fmt(item.price.M)}`
              : item.sizes && item.sizes.S
                ? `S ${fmt(item.sizes.S)} / M ${fmt(item.sizes.M)}`
                : '')
                    )
                  )
                )
              )
            )
          );
        }

        // DESKTOP
        else {
          layout = h('div', { class:'max-w-6xl mx-auto grid grid-cols-12 gap-4 px-4 pt-4 pb-24' },

            // Sidebar
            h('aside', { class:'col-span-3' },
              h('div', { class:'sticky top-36 space-y-1' },
                ...Object.values(CATS).map(c =>
                  h('button', {
                    class:'w-full text-left px-3 py-2 rounded-lg border ' + 
                    (active===c.key ? 'bg-white text-black' : 'bg-transparent text-white hover:bg-white/10'),
                    onclick:()=>setActive(c.key)
                  }, c.title)
                )
              )
            ),

            // Grid
            h('div', { class:'col-span-9' },
              h('div', { class:'grid sm:grid-cols-2 lg:grid-cols-3 gap-4' },
                ...MENU.filter(m=>m.cat===active).map(item =>
                  h('article', { class:'card overflow-hidden reveal', dataset:{ id:item.id } },
                    h('img', { class:'img', src:item.img, dataset:{ id:item.id } }),
                    h('div', { class:'p-3 flex justify-between' },
                      h('span',{}, window.translations?.[window.currentLang]?.[item.id] || item.name),
                      h('span',{}, typeof item.price==='number'
            ? fmt(item.price)
            : item.price && item.price.S
              ? `S ${fmt(item.price.S)} / M ${fmt(item.price.M)}`
              : item.sizes && item.sizes.S
                ? `S ${fmt(item.sizes.S)} / M ${fmt(item.sizes.M)}`
                : '')
                    )
                  )
                )
              )
            )
          );
        }

        root.appendChild(header);
        root.appendChild(layout);
        initReveals();
        initModalListeners();
      }

      /* ===== Reveal ===== */
      let revealObserver;
      function initReveals() {
        if (revealObserver) revealObserver.disconnect();

        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
          document.querySelectorAll('.reveal').forEach(el => el.classList.add('in'));
          return;
        }

        revealObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('in');
              revealObserver.unobserve(entry.target);
            }
          });
        }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.15 });

        document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));
      }

      // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞)
      document.addEventListener('click', e => {
        const btn = e.target.closest('button');
        if (!btn) return;
        const cat = Object.values(CATS).find(c => c.title === btn.textContent);
        if (cat) setActive(cat.key);
      });

      /* ===== MODAL LOGIC ‚Äî –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–æ –ø–µ—Ä–≤–æ–≥–æ render() ===== */
      function initModalListeners() {
        document.querySelectorAll('article.card img').forEach(img => {
          img.style.cursor = "pointer";
          img.onclick = () => openModal(img);
        });
      }

      
      function openModal(imgEl) {
        const id = imgEl.dataset.id || imgEl.closest('article')?.dataset?.id;
        const item = MENU.find(x => x.id === id) || {};
        const trName = (window.translations?.[window.currentLang]?.[id]) || item.name || '√úr√ºn';

       // ingredients (MENU priority ‚Üí ENRICH ‚Üí empty)
		const enrich = (typeof AMOUR_ENRICH !== 'undefined' && AMOUR_ENRICH[id]) ? AMOUR_ENRICH[id] : {};
		const ingredients = item.ingredients || enrich.ingredients || [];
		document.getElementById("modalImg").src = item.img || imgEl.src;
		document.getElementById("modalName").textContent = trName;

		// flavor chips from desc
		const desc = item.desc || enrich.desc || "";
		const descUI = document.getElementById("modalDescUI");


		if (desc && desc.trim().length) {
		  const parts = desc.split(/[,./]/).map(d => d.trim()).filter(Boolean);

		  descUI.innerHTML = parts.map(d =>
			`<span class="px-2 py-1 bg-white/10 rounded-full border border-white/20">${d}</span>`
		  ).join("");

		  descUI.style.display = "flex";
		} else {
		  descUI.style.display = "none";
		}

        const ingList = document.getElementById("modalIng");
        ingList.innerHTML = ingredients.length ? ingredients.map(i=>`<li>${i}</li>`).join("") : '<li>Bilgi yakƒ±nda</li>';
		
		    // caffeine (MENU priority ‚Üí ENRICH ‚Üí null)
		let caffeine = null;
		if (typeof item.caffeine === "number") {
		  caffeine = item.caffeine;
		} else if (typeof enrich.caffeine === "number") {
		  caffeine = enrich.caffeine;
		}

		const caffeineTitle = document.getElementById('caffeineTitle');
		const dotsWrap = document.getElementById('caffeineDots');
		const mgEl = document.getElementById('caffeineMg');

		const caffeineCats = ['coffees', 'filter', 'iced'];
		const showCat = caffeineCats.includes(item.cat);

		if (showCat && caffeine !== null) {
		  caffeineTitle.style.display = "block";
		  dotsWrap.style.display = "flex";
		  mgEl.style.display = "block";

		  const dots = Math.min(5, Math.max(1, Math.ceil(caffeine / 50)));
		  dotsWrap.innerHTML = "";
		  for (let i = 0; i < 5; i++) {
			dotsWrap.innerHTML += `
			  <span style="
				width:8px;height:8px;margin-right:4px;
				border-radius:50%;
				border:1px solid #fff;
				display:inline-block;
				background:${i < dots ? '#fff' : 'transparent'}"></span>`;
		  }
		  mgEl.textContent = caffeine + " mg";
		} else {
		  caffeineTitle.style.display = "none";
		  dotsWrap.style.display = "none";
		  mgEl.style.display = "none";
		}


        const modal = document.getElementById("drinkModal");
        modal.classList.remove("hidden");
        modal.classList.add("flex");
      }

      function closeModal() {
        const modal = document.getElementById("drinkModal");
        modal.classList.add("hidden");
        modal.classList.remove("flex");
      }

      // –∑–∞–∫—Ä—ã—Ç–∏—è
      document.addEventListener("keydown", e => { if (e.key === "Escape") closeModal(); });

      // –ø–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä (–ø–æ–∫–∞ –±–µ–∑ —è–∑—ã–∫–∞ ‚Äî —è–∑—ã–∫ –Ω–∏–∂–µ)
      render();
    </script>

    <!-- ===== Footer ===== -->
    <footer class="border-t border-white/10 text-center text-sm text-white/60 py-6">
      <div class="space-y-1">
        <p>(!) G√∂rseldeki √ºr√ºn ger√ßeƒüinden farklƒ±lƒ±k g√∂sterebilir</p>
        <p>¬© 2025 Amour Coffee ‚Äî instagram <a href="https://www.instagram.com/amour_coffee77" target="_blank" class="hover:text-white">@amour_coffee77</a></p>
        <p>Site yapƒ±ldƒ± <a href="https://www.instagram.com/dima_b0nd/" target="_blank" class="font-semibold hover:text-white">Dmitrii Bondarev</a></p>
      </div>
    </footer>

    <!-- üåç Language Selector Modal -->
    <div id="lang-modal" class="fixed inset-0 bg-black/90 flex flex-col items-center justify-center text-white z-50 text-center px-4">
      <div class="max-w-md w-full">
        <h2 class="text-2xl font-semibold mb-8 tracking-wide uppercase text-gray-100">üåê Select Your Language</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
          <button id="lang-tr" class="lang-btn">üáπüá∑ T√ºrk√ße</button>
          <button id="lang-en" class="lang-btn">üá¨üáß English</button>
          <button id="lang-ru" class="lang-btn">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
          <button id="lang-ar" class="lang-btn">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
          <button id="lang-fa" class="lang-btn">üáÆüá∑ ŸÅÿßÿ±ÿ≥€å</button>
          <button id="lang-fr" class="lang-btn">üá´üá∑ Fran√ßais</button>
        </div>
        <p class="mt-8 text-sm text-gray-400 italic">Amour Caf√© ‚Äî Yalova</p>
      </div>
    </div>

    <!-- üíÖ Styling for language buttons -->
    <style>
      .lang-btn { @apply px-6 py-3 bg-white text-black font-medium rounded-lg shadow-sm transition-transform duration-200 hover:scale-105 hover:bg-gray-200 active:scale-95; }
    </style>

    <!-- ===== LANG + MODAL close bindings ===== -->
    <script>
      const LANG_KEY = 'amour_lang';
      window.translations = {
        /* ‚Ä¶ –¢–í–û–ò –ü–û–õ–ù–´–ï –ü–ï–†–ï–í–û–î–´ –ò–ó –ü–†–û–®–õ–û–ì–û –§–ê–ô–õ–ê (–æ—Å—Ç–∞–≤–∏–ª –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ‚Ä¶ */
        /* –ß—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—É–≤–∞—Ç—å –æ—Ç–≤–µ—Ç, –æ—Å—Ç–∞–≤—å —Ç—É—Ç —Ä–æ–≤–Ω–æ —Ç–≤–æ–π –æ–±—ä–µ–∫—Ç translations –∫–∞–∫ —É —Ç–µ–±—è –±—ã–ª */
      };
      window.currentLang = localStorage.getItem(LANG_KEY) || 'tr';
      const langModal = document.getElementById('lang-modal');

      function setLanguage(lang) {
        window.currentLang = lang;
        localStorage.setItem(LANG_KEY, lang);
        langModal.style.display = 'none';
        applyLanguage(lang);
      }

      function applyLanguage(lang) {
        document.body.dir = (lang === 'ar' || lang === 'fa') ? 'rtl' : 'ltr';

        if (lang === 'en') {
          document.title = "Amour ‚Äî Menu";
          document.querySelector('meta[name="description"]').setAttribute('content', 'Amour Caf√© ‚Äî Yalova. Black & white minimalist menu.');
          CATS.hot.title = "HOT DRINKS";
          CATS.herbal.title = "HERBAL TEAS";
          CATS.cocktails.title = "COCKTAILS";
          CATS.cold.title = "COLD DRINKS";
          CATS.icecream.title = "ICE CREAMS";
          CATS.coffees.title = "COFFEES";
          CATS.filter.title = "FILTER COFFEES";
          CATS.iced.title = "ICED COFFEES";
          CATS.extras.title = "EXTRAS";
          CATS.desserts.title = "DESSERTS";
        } else if (lang === 'tr') {
          document.title = "Amour ‚Äî Men√º";
          document.querySelector('meta[name="description"]').setAttribute('content', 'Amour Caf√© ‚Äî Yalova. Siyah-beyaz minimalist men√º.');
          CATS.hot.title = "SICAK ƒ∞√áECEKLER";
          CATS.herbal.title = "Bƒ∞TKƒ∞ √áAYLARI";
          CATS.cocktails.title = "KOKTEYLLER";
          CATS.cold.title = "SOƒûUK ƒ∞√áECEKLER";
          CATS.icecream.title = "DONDURMA";
          CATS.coffees.title = "KAHVELER";
          CATS.filter.title = "Fƒ∞LTRE KAHVELER";
          CATS.iced.title = "SOƒûUK KAHVELER";
          CATS.extras.title = "EKSTRALAR";
          CATS.desserts.title = "TATLILAR";
        } else if (lang === 'ru') {
          document.title = "Amour ‚Äî –ú–µ–Ω—é";
          document.querySelector('meta[name="description"]').setAttribute('content', 'Amour Caf√© ‚Äî –Ø–ª–æ–≤–∞. –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —á—ë—Ä–Ω–æ-–±–µ–ª–æ–µ –º–µ–Ω—é.');
          CATS.hot.title = "–ì–û–†–Ø–ß–ò–ï –ù–ê–ü–ò–¢–ö–ò";
          CATS.herbal.title = "–¢–†–ê–í–Ø–ù–´–ï –ß–ê–ò";
          CATS.cocktails.title = "–ö–û–ö–¢–ï–ô–õ–ò";
          CATS.cold.title = "–•–û–õ–û–î–ù–´–ï –ù–ê–ü–ò–¢–ö–ò";
          CATS.icecream.title = "–ú–û–†–û–ñ–ï–ù–û–ï";
          CATS.coffees.title = "–ö–û–§–ï";
          CATS.filter.title = "–§–ò–õ–¨–¢–†-–ö–û–§–ï";
          CATS.iced.title = "–ê–ô–° –ö–û–§–ï";
          CATS.extras.title = "–≠–ö–°–¢–†–ê –ò –ó–ê–†–Ø–î–ö–ê";
          CATS.desserts.title = "–î–ï–°–ï–†–¢–´";
        } else if (lang === 'ar') {
          document.title = "ŸÇÿßÿ¶ŸÖÿ© ÿ¢ŸÖŸàÿ±";
          document.querySelector('meta[name="description"]').setAttribute('content', 'ŸÖŸÇŸáŸâ ÿ¢ŸÖŸàÿ± ‚Äî ŸäÿßŸÑŸàŸÅÿß. ŸÇÿßÿ¶ŸÖÿ© ÿ£ŸÜŸäŸÇÿ© ÿ®ÿßŸÑÿ£ÿ®Ÿäÿ∂ ŸàÿßŸÑÿ£ÿ≥ŸàÿØ.');
          CATS.hot.title = "ÿßŸÑŸÖÿ¥ÿ±Ÿàÿ®ÿßÿ™ ÿßŸÑÿ≥ÿßÿÆŸÜÿ©";
          CATS.herbal.title = "ÿ¥ÿßŸä ÿßŸÑÿ£ÿπÿ¥ÿßÿ®";
          CATS.cocktails.title = "ŸÉŸàŸÉÿ™ŸäŸÑÿßÿ™";
          CATS.cold.title = "ÿßŸÑŸÖÿ¥ÿ±Ÿàÿ®ÿßÿ™ ÿßŸÑÿ®ÿßÿ±ÿØÿ©";
          CATS.icecream.title = "ÿßŸÑÿ¢Ÿäÿ≥ ŸÉÿ±ŸäŸÖ";
          CATS.coffees.title = "ÿßŸÑŸÇŸáŸàÿ©";
          CATS.filter.title = "ÿßŸÑŸÇŸáŸàÿ© ÿßŸÑŸÖŸÅŸÑÿ™ÿ±ÿ©";
          CATS.iced.title = "ÿßŸÑŸÇŸáŸàÿ© ÿßŸÑŸÖÿ´ŸÑÿ¨ÿ©";
          CATS.extras.title = "ÿßŸÑÿ•ÿ∂ÿßŸÅÿßÿ™";
          CATS.desserts.title = "ÿßŸÑÿ≠ŸÑŸàŸäÿßÿ™";
        } else if (lang === 'fa') {
          document.title = "ŸÖŸÜŸà€å ÿ¢ŸÖŸàÿ±";
          document.querySelector('meta[name="description"]').setAttribute('content', '⁄©ÿßŸÅŸá ÿ¢ŸÖŸàÿ± ‚Äî €åÿßŸÑŸàŸàÿß. ŸÖŸÜŸà€å ÿ≥€åÿßŸá Ÿà ÿ≥ŸÅ€åÿØ ŸÖ€åŸÜ€åŸÖÿßŸÑ.');
          CATS.hot.title = "ŸÜŸàÿ¥€åÿØŸÜ€å‚ÄåŸáÿß€å ⁄Øÿ±ŸÖ";
          CATS.herbal.title = "ÿØŸÖŸÜŸàÿ¥‚ÄåŸáÿß€å ⁄Ø€åÿßŸá€å";
          CATS.cocktails.title = "⁄©Ÿà⁄©ÿ™ŸÑ‚ÄåŸáÿß";
          CATS.cold.title = "ŸÜŸàÿ¥€åÿØŸÜ€å‚ÄåŸáÿß€å ÿ≥ÿ±ÿØ";
          CATS.icecream.title = "ÿ®ÿ≥ÿ™ŸÜ€å‚ÄåŸáÿß";
          CATS.coffees.title = "ŸÇŸáŸàŸá‚ÄåŸáÿß";
          CATS.filter.title = "ŸÇŸáŸàŸá‚ÄåŸáÿß€å ŸÅ€åŸÑÿ™ÿ±€å";
          CATS.iced.title = "ŸÇŸáŸàŸá‚ÄåŸáÿß€å €åÿÆ‚ÄåÿØÿßÿ±";
          CATS.extras.title = "ÿßŸÅÿ≤ŸàÿØŸÜ€å‚ÄåŸáÿß";
          CATS.desserts.title = "ÿØÿ≥ÿ±Ÿáÿß";
        } else if (lang === 'fr') {
          document.title = "Amour ‚Äî Menu";
          document.querySelector('meta[name="description"]').setAttribute('content', 'Amour Caf√© ‚Äî Yalova. Menu minimaliste noir et blanc.');
          CATS.hot.title = "BOISSONS CHAUDES";
          CATS.herbal.title = "INFUSIONS";
          CATS.cocktails.title = "COCKTAILS";
          CATS.cold.title = "BOISSONS FROIDES";
          CATS.icecream.title = "GLACES";
          CATS.coffees.title = "CAF√âS";
          CATS.filter.title = "CAF√âS FILTR√âS";
          CATS.iced.title = "CAF√âS GLAC√âS";
          CATS.extras.title = "SUPPL√âMENTS";
          CATS.desserts.title = "DESSERTS";
        }

        // –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
        render();
      }

      // –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
      document.getElementById('lang-tr').onclick = () => setLanguage('tr');
      document.getElementById('lang-en').onclick = () => setLanguage('en');
      document.getElementById('lang-ru').onclick = () => setLanguage('ru');
      document.getElementById('lang-ar').onclick = () => setLanguage('ar');
      document.getElementById('lang-fa').onclick = () => setLanguage('fa');
      document.getElementById('lang-fr').onclick = () => setLanguage('fr');

      // –ø–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
      langModal.style.display = 'flex';

      // –ø—Ä–∏–≤—è–∑–∫–∞ X/—Ñ–æ–Ω ‚Äî –≤ —ç—Ç–æ–º —Å–∫—Ä–∏–ø—Ç–µ (—á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ—Å–ª–µ HTML –º–æ–¥–∞–ª–∫–∏)
      document.getElementById("modalClose").onclick = () => closeModal();
      document.getElementById("drinkModal").addEventListener("click", e => { if (e.target === e.currentTarget) closeModal(); });

      // —Å—Ç–∞—Ä—Ç —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–∞–Ω–µ–µ —è–∑—ã–∫–æ–º (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –≤—ã–±–∏—Ä–∞–ª)
      // (–±–µ–∑ –≤—Å–ø–ª—ã—Ç–∏—è –æ–∫–Ω–∞ —è–∑—ã–∫–∞ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å: applyLanguage(currentLang))
      // –Ω–æ —Å–µ–π—á–∞—Å –º—ã –æ—Å—Ç–∞–≤–∏–ª–∏ –ø–æ–∫–∞–∑ –º–æ–¥–∞–ª–∫–∏ —è–∑—ã–∫–∞ –∫–∞–∫ —É —Ç–µ–±—è –±—ã–ª–æ.
    </script>

    <!-- ‚úÖ Product Modal (–≤–Ω—É—Ç—Ä–∏ body, –ø–µ—Ä–µ–¥ </body>) -->
	<!-- ‚úÖ Product Modal (–≤–Ω—É—Ç—Ä–∏ body, –ø–µ—Ä–µ–¥ </body>) -->
	<div id="drinkModal" class="fixed inset-0 z-[9999] hidden bg-black/70 backdrop-blur-sm items-center justify-center">
	  <div class="bg-[#111] text-white p-5 rounded-2xl max-w-xs w-full relative animate-[zoom_.25s_ease]">
		<button id="modalClose" class="absolute top-2 right-2 text-xl text-white/70 hover:text-white">√ó</button>

		<img id="modalImg" src="" class="w-full rounded-xl mb-4"/>

		<h3 id="modalName" class="text-xl font-semibold mb-2"></h3>

		<!-- ‚úÖ Chips block for flavors -->
		<div id="modalDescUI" class="flex flex-wrap gap-2 text-xs text-white/80 mb-3"></div>

		<!-- (old desc remains hidden just in case) -->
		<p id="modalDesc" style="display:none"></p>

		<h4 class="text-sm font-semibold mb-1">ƒ∞√ßindekiler</h4>
		<ul id="modalIng" class="text-xs text-white/80 mb-4 space-y-1"></ul>

		<!-- Caffeine -->
		<h4 id="caffeineTitle" class="text-sm font-semibold mb-1">Kafein</h4>
		<div id="caffeineWrap">
		  <div id="caffeineDots" class="flex gap-1 mb-1"></div>
		  <div id="caffeineMg" class="text-xs text-white/60 mb-2"></div>
		</div>
	  </div>
	</div>

	<script>
	  const modal = document.getElementById("drinkModal");
	  const closeBtn = document.getElementById("modalClose");

	  // –ó–∞–∫—Ä—ã—Ç—å –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É
	  closeBtn.addEventListener("click", () => {
		modal.classList.add("hidden");
		modal.classList.remove("flex");
	  });

	  // –ó–∞–∫—Ä—ã—Ç—å –ø–æ —Ñ–æ–Ω—É
	  modal.addEventListener("click", (e) => {
		if (e.target === modal) {
		  modal.classList.add("hidden");
		  modal.classList.remove("flex");
		}
	  });

		// ESC —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
	</script>
    <!-- ‚úÖ –∫–æ–Ω–µ—Ü –º–æ–¥–∞–ª–∫–∏ -->
  

<script>
// Enhance cards: if images lack data-id, infer from neighbor text or src filename
(function enhanceCardIds(){
  document.querySelectorAll('article.card img:not([data-id])').forEach(img=>{
    // try to guess id from src
    const src = img.getAttribute('src')||'';
    const m = src.match(/([a-z0-9-]+)\.webp/i);
    if (m){ img.setAttribute('data-id', m[1]); }
    // otherwise leave as is
  });
})();
</script>


<script>
// === Modal + Data Enrichment ===
const AMOUR_ENRICH = {
//–ö–û–§–ï –°–î–ï–õ–ê–õ
"espresso":{"desc":"Yoƒüun aromalƒ±, g√º√ßl√º ve konsantre kahve","ingredients":["Espresso"],"caffeine":63},
"espresso-macchiato":{"desc":"Az miktarda s√ºt k√∂p√ºƒü√º ile servis edilen yoƒüun ve karakterli espresso","ingredients":["Espresso","S√ºt k√∂p√ºƒü√º"],"caffeine":63},
"americano":{"desc":"Espresso bazlƒ±, sƒ±cak su ile hazƒ±rlanmƒ±≈ü yumu≈üak siyah kahve.":["Espresso","Sƒ±cak su"],"caffeine":95},
"latte":{"desc":"Bol s√ºtl√º, yumu≈üak i√ßimli nazik kahve i√ßeceƒüi.","ingredients":["Espresso","S√ºt","S√ºt k√∂p√ºƒü√º"],"caffeine":80},
"white-mocha":{"desc":"Beyaz √ßikolata ve s√ºt ile hazƒ±rlanmƒ±≈ü, tatlƒ± ve kremamsƒ± kahve.","ingredients":["Espresso","S√ºt","Beyaz √ßikolata sosu"],"caffeine":90},
"mocha":{"desc":"√áikolata ve s√ºt ile hazƒ±rlanan, yoƒüun ve tatlƒ± kahve.","ingredients":["Espresso","S√ºt","√áikolata sosu"],"caffeine":90},
"caramel-latte":{"desc":"Vanilya-karamel tatlƒ±lƒ±ƒüƒ±na sahip, yumu≈üak ve kremamsƒ± latte.":["Espresso","S√ºt","Karamel sosu"],"caffeine":80},
"cappuccino":{"desc":"Yoƒüun k√∂p√ºkl√º s√ºt ile hazƒ±rlanmƒ±≈ü, dengeli lezzette kahve.","ingredients":["Espresso","S√ºt","S√ºt k√∂p√ºƒü√º"],"caffeine":75},
"cortado":{"desc":"Az s√ºtle hazƒ±rlanan, yoƒüun ve yumu≈üak i√ßimli espresso.","ingredients":["Espresso","Az s√ºt"],"caffeine":75},
"flat-white":{"desc":"Kadifemsi s√ºt dokusuyla g√º√ßl√º kahve aromasƒ±.","ingredients":["√áift espresso","S√ºt"],"caffeine":126},
"latte-macchiato":{"desc":"S√ºt√ºn √ºzerine eklenen espresso dokunu≈üu, hafif ve s√ºtl√º tat.","ingredients":["Espresso","S√ºt","S√ºt k√∂p√ºƒü√º"],"caffeine":75},
"nutellatte":{"desc":"Nutella ile hazƒ±rlanan, √ßikolatalƒ±-fƒ±ndƒ±klƒ±, tatlƒ± ve kremamsƒ± latte.","ingredients":["Espresso","S√ºt","Fƒ±ndƒ±k-kakao kremasƒ±"],"caffeine":80},
"deca-cream":{"desc":"S√ºt bazlƒ±, kafeinsiz kremamsƒ± i√ßecek.","ingredients":["Kafeinsiz espresso"],"caffeine":6},
"turk-kahvesi":{"desc":"ƒ∞nce √ßekilmi≈ü kahvenin geleneksel y√∂ntemle hazƒ±rlanmƒ±≈ü aromatik hali.","ingredients":["T√ºrk kahvesi","Su"],"caffeine":60},
"double-turk":{"desc":"√áift porsiyon T√ºrk kahvesi, g√º√ßl√º ve yoƒüun lezzet.","ingredients":["T√ºrk kahvesi (duble)","Su"],"caffeine":120},
"dibek":{"desc":"Havanda d√∂v√ºlm√º≈ü, yumu≈üak ve kremamsƒ± kƒ±vamda, zengin aromalƒ± kahve.","ingredients":["Dibek kahvesi","Su"],"caffeine":60},
"menengic":{"desc":"Doƒüal ve kafeinsiz, fƒ±ndƒ±ksƒ± aromalƒ± ve yumu≈üak dokulu i√ßecek.","ingredients":["Menengi√ß","S√ºt veya su"]},
//—Ñ–∏–ª—å—Ç—Ä–∫–æ—Ñ–µ –°–î–ï–õ–ê–õ
"kenya":{"desc":"Meyvemsi notalar ve parlak asiditeye sahip filtre kahve","ingredients":["Filtre kahve","Su"],"caffeine":120},
"colombia":{"desc":"Yumu≈üak asidite, karamel ve fƒ±ndƒ±k notalarƒ±na sahip filtre kahve","ingredients":["Filtre kahve","Su"],"caffeine":115},
"ethiopia":{"desc":"Narenciye ve √ßi√ßek notalarƒ±na sahip, hafif ve aromatik filtre kahve","ingredients":["Filtre kahve","Su"],"caffeine":120},
"costarica":{"desc":"Karamel ve narenciye notalarƒ±yla dengeli ve parlak bir tat","ingredients":["Filtre kahve","Su"],"caffeine":115},
"guatemala":{"desc":"√áikolata notalarƒ± ve hafif meyvemsi tatlƒ±lƒ±ƒüa sahip zengin bir lezzet","ingredients":["Filtre kahve","Su"],"caffeine":115},
"v60":{"desc":"El demleme y√∂ntemiyle hazƒ±rlanan filtre kahve, temiz ve parlak tat (V60)","ingredients":["√ñƒü√ºt√ºlm√º≈ü kahve","Su"],"caffeine":120},
"chemex":{"desc":"Chemex y√∂ntemiyle hazƒ±rlanmƒ±≈ü, temiz ve yumu≈üak, hafif tatlƒ±lƒ±k sunan kahve","ingredients":["√ñƒü√ºt√ºlm√º≈ü kah–≤–µ","Su"],"caffeine":120},
//–∫–æ—Ñ–µ —Ö–æ–ª–æ–¥–Ω–æ–µ
"iced-americano":{"desc":"Buzlu, ferah ve net kahve tadƒ±.","ingredients":["Espresso","Su","Buz"],"caffeine":95},
"iced-latte":{"desc":"Soƒüuk s√ºtle yumu≈üak kahve.","ingredients":["Espresso","S√ºt","Buz"],"caffeine":80},
"iced-mocha":{"desc":"√áikolatalƒ± buzlu latte.","ingredients":["Espresso","S√ºt","√áikolata","Buz"],"caffeine":90},
"iced-caramel-latte":{"desc":"Karamel dokunu≈ülu buzlu latte.","ingredients":["Espresso","S√ºt","Karamel","Buz"],"caffeine":80},
"iced-white-mocha":{"desc":"Beyaz √ßikolatalƒ± buzlu latte.","ingredients":["Espresso","S√ºt","Beyaz √ßikolata","Buz"],"caffeine":90},
"cold-brew":{"desc":"Uzun demleme, yumu≈üak ve g√º√ßl√º.","ingredients":["√ñƒü√ºt√ºlm√º≈ü kah–≤–µ","Su","Buz"],"caffeine":150},
"frappe":{"desc":"K√∂p√ºkl√º, buzlu kahve keyfi.","ingredients":["Kahve","S√ºt veya su","Buz"],"caffeine":80},
"italian-frappe":{"desc":"Klasik ƒ∞talyan tarzƒ± frappe.","ingredients":["Kah–≤–µ","S√ºt veya su","Buz"],"caffeine":85},
"greek-frappe":{"desc":"Yunan tarzƒ± hafif k√∂p√ºkl√º.","ingredients":["√á√∂z√ºnebilir kah–≤–µ","Su","Buz"],"caffeine":75},
"ice-nutellatte":{"desc":"Fƒ±ndƒ±k-kakaolu buzlu latte.","ingredients":["Espresso","S√ºt","Fƒ±ndƒ±k-kakao kremasƒ±","Buz"],"caffeine":80},
"ice-chai-latte":{"desc":"Baharatlƒ±, s√ºtl√º ve ferah.","ingredients":["√áay","S√ºt","Baharat","Buz"]},
"affogato":{"desc":"Dondurma √ºst√ºne sƒ±cak espresso.","ingredients":["Espresso","Dondurma"],"caffeine":63},
//–ì–æ—Ä—è—á–∏–µ –Ω–∞–ø–∏—Ç–∫–∏ –°–î–ï–õ–ê–õ
"cay":{"desc":"Geleneksel ve taze demlenmi≈ü siyah √ßay.","ingredients":["Siyah √ßay","Su"]},
"fincan-cay":{"desc":"Bardakta geleneksel √ßay","ingredients":["Siyah √ßay","Su"]},
"takeaway-cay":{"desc":"Kaƒüƒ±t bardakta √ßay","ingredients":["Siyah √ßay","Su"]},
"salep":{"desc":"Tar√ßƒ±n ve s√ºtl√º sƒ±cak i√ßecek","ingredients":["Salep","S√ºt","Tar√ßƒ±n","≈ûeker"]},
"sicak-cikolata":{"desc":"Sƒ±cak ve yoƒüun kakaolu √ßikolatalƒ± i√ßecek","ingredients":["Kakao","S√ºt","≈ûeker"]},
"beyaz-sicak-cikolata":{"desc":"Yoƒüun ve sƒ±cak beyaz √ßikolatalƒ± i√ßecek.","ingredients":["Beyaz √ßikolata","S√ºt"]},
"chai-latte":{"desc":"Baharatlƒ± s√ºtl√º √ßay i√ßeceƒüi","ingredients":["√áay","S√ºt","Chai baharatƒ±"]},
"balli-sut":{"desc":"Bal ile tatlandƒ±rƒ±lmƒ±≈ü sƒ±cak s√ºt","ingredients":["S√ºt","Bal"]},
//—Ö–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏ –†–ï–î–ò
"su":{"ingredients":["Su"]},
"soda":{"desc":"Ferahlatƒ±cƒ± gazlƒ± mineral i√ßeceƒüi","ingredients":["Soda"]},
"sikma-portakal":{"desc":"Taze sƒ±kƒ±lmƒ±≈ü, doƒüal ve ferahlatƒ±cƒ± portakal suyu.","ingredients":["Portakal"]},
"frozen":{"desc":"Buzlu, ferahlatƒ±cƒ±, meyvemsi ve canlƒ± aromalƒ± i√ßecek.","ingredients":["Meyve p√ºresi","Buz"]},
"italian-soda":{"desc":"Meyveli ≈üurup ile hazƒ±rlanan hafif gazlƒ±, ferah ve aromatik i√ßecek.","ingredients":["Soda","Meyve ≈üurubu","Buz"]},
"limonata":{"desc":"Taze narenciye aromalƒ± ev yapƒ±mƒ± limonata.","ingredients":["Limon","≈ûeker","Su","Buz"]},
"aromali-limonata":{"desc":"√áilek, nar veya nane ile ferah.","ingredients":["Limon","Aroma","≈ûeker","Su","Buz"]},
"churchill":{"desc":"Limon, tuz ve soda ile ferah.","ingredients":["Soda","Limon","Tuz","Buz"]},
"enerji-icecek":{"desc":"Gazlƒ± ve tatlƒ± enerji i√ßeceƒüi.","ingredients":["Gazlƒ± i√ßecek"]},
"mesrubatlar":{"desc":"Klasik soƒüuk me≈ürubatlar.","ingredients":["√áe≈üitli me≈ürubatlar"]},
"milkshake":{"desc":"Yumu≈üak ve kremamsƒ± dokulu, tatlƒ± ve soƒüuk s√ºtl√º i√ßecek.","ingredients":["S√ºt","Dondurma","≈ûurup"]},
"meyveli-soda":{"desc":"Meyve aromalƒ± hafif gazlƒ±.","ingredients":["Soda","Meyve aromasƒ±"]},
//–º–æ—Ä–æ–∂–∫–∞ READY
"icecream-vanilya":{"desc":"Klasik vanilya lezzeti.","ingredients":["S√ºt","≈ûeker","Vanilya"]},
"icecream-visne":{"desc":"Hafif ek≈üi vi≈üne tadƒ±.","ingredients":["S√ºt","≈ûeker","Vi≈üne"]},
"icecream-cikolata":{"desc":"Zengin √ßikolata tadƒ±.","ingredients":["S√ºt","≈ûeker","Kakao"]},
"icecream-karamel":{"desc":"Karamel dokunu≈ülu tatlƒ± lezzet.","ingredients":["S√ºt","≈ûeker","Karamel"]},
"icecream-cilek":{"desc":"Taze √ßilek aromasƒ±.","ingredients":["S√ºt","≈ûeker","√áilek"]},
"icecream-parca-cikolata":{"desc":"√áikolata par√ßacƒ±klƒ± keyif.","ingredients":["S√ºt","≈ûeker","√áikolata par√ßalarƒ±"]},
"icecream-krokan":{"desc":"Kƒ±tƒ±r krokan par√ßalarlƒ±.","ingredients":["S√ºt","≈ûeker","Krokan"]},
//–µ–∫—Å—Ç—Ä–∞ –í–†–û–î–ï
"extra-shot":{"desc":"Bir shot espresso ekleme.","ingredients":["Espresso"]},
"extra-syrup":{"desc":"Favori ≈üurubunu ekle.","ingredients":["≈ûurup"]},
"extra-milk":{"desc":"S√ºt tercihini se√ß.","ingredients":["S√ºt"]},
"extra-honey":{"desc":"Doƒüal bal dokunu≈üu.","ingredients":["Bal"]},
"powerbank":{"desc":"30 dk ≈üarj hizmeti.","ingredients":["Hizmet"]},
// Bƒ∞TKƒ∞ √áAYLARI –ì–û–¢–û–í–û
"herbal-0":{"desc":"French press ile hazƒ±rlanan taze ƒ±hlamur √ßayƒ±","ingredients":["Ihlamur"]},
"herbal-1":{"desc":"French press ile hazƒ±rlanan taze kƒ±≈ü √ßayƒ±","ingredients":["Kƒ±≈ü √áayƒ±"]},
"herbal-2":{"desc":"French press ile hazƒ±rlanan hafif ve taze ye≈üil √ßay","ingredients":["Ye≈üil √áay"]},
"herbal-3":{"desc":"French press ile hazƒ±rlanan taze ada √ßayƒ±","ingredients":["Ada √áayƒ±"]},
"herbal-4":{"desc":"French press ile hazƒ±rlanan taze papatya √ßayƒ±","ingredients":["Papatya"]},
"herbal-5":{"desc":"French press ile hazƒ±rlanan taze ku≈üburnu √ßayƒ±","ingredients":["Ku≈üburnu √áayƒ±"]},
 // KOKTEYLLER
"amour-milano":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-special":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-melo":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-wild-berry":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-vibe":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-sky":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-lime":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-mango-portakal":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-hibiscus":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
"amour-dark":{"desc":"Daha sonra buraya yazacaƒüƒ±m","ingredients":["Espresso"]},
//—Å–ª–∞–¥–∫–æ–µ
"magnolia":{"desc":"ƒ∞peksi –∫—Ä–µ–ºalƒ± tatlƒ±.","ingredients":["S√ºt","Krema","Meyve/kurabiye"]},
"profiterol":{"desc":"√áikolata soslu mini toplar.","ingredients":["Hamur toplarƒ±","Krema","√áikolata"]},
"san-sebastian":{"desc":"Kƒ±vamlƒ± cheesecake dokusu.","ingredients":["Krem peynir","Yumurta","≈ûeker"]},
"brownie":{"desc":"Yoƒüun √ßikolatalƒ± tatlƒ±.","ingredients":["Kakao","Tereyaƒüƒ±","Un","≈ûeker"]},
"lotus-cup":{"desc":"Lotus bisk√ºvili fincan tatlƒ±.","ingredients":["Bisk√ºvi","Krema"]},
"fistikli-cup":{"desc":"Fƒ±stƒ±k aromalƒ± fincan tatlƒ±.","ingredients":["Fƒ±stƒ±k","Krema","Bisk√ºvi"]},
"oreo-cup":{"desc":"Oreo par√ßacƒ±klƒ± tatlƒ±.","ingredients":["Oreo","Krema"]},
"lotus-cheesecake":{"desc":"Lotus tabanlƒ± cheesecake.","ingredients":["Krem peynir","Bisk√ºvi","Lotus"]},
"mini-cookies":{"desc":"Atƒ±≈ütƒ±rmalƒ±k mini kurabiyeler.","ingredients":["Un","Tereyaƒüƒ±","≈ûeker","√áikolata"]}
};
function enrichItem(item) {
  const enrich = AMOUR_ENRICH[item.id];
  if (!enrich) return item;

  return {
    ...item,
    desc: item.desc || enrich.desc || "",
    ingredients: item.ingredients || enrich.ingredients || [],
    caffeine: item.caffeine || enrich.caffeine || null
  };
}

// Find MENU array reference from page (assumes it's defined globally)
function amourFindMenu(){
  try {
    return window.MENU || MENU;
  } catch(e){ return []; }
}

// Modal open/close
function amourOpenModalById(id){
  const menu = amourFindMenu();
  const item = menu.find(m=>m.id===id) || {id, name:id};
  const data = enrichItem(item);

	const name = data.name || id;
	const img = data.img || '';
	const desc = data.desc || "√ñzenle hazƒ±rlanmƒ±≈ü lezzet.";
	const ingredients = data.ingredients || [];

  // mount
  document.getElementById('modalImg').src = img;
  document.getElementById('modalName').textContent = name;
  document.getElementById('modalDesc').textContent = desc;
  document.getElementById('modalIng').innerHTML = ingredients.map(i=>`<li>${i}</li>`).join('');

  
	// caffeine logic (only coffees, filter, iced)
	const caffeineWrap = document.getElementById('caffeineWrap');
	const caffeineDots = document.getElementById('caffeineDots');
	const caffeineMg = document.getElementById('caffeineMg');

	const caffeineCats = ['coffees', 'filter', 'iced'];
	const showCaffeine = caffeineCats.includes(cat);

	const caffeineVal = 
	  typeof item.caffeine === 'number' ? item.caffeine :
	  typeof enrich.caffeine === 'number' ? enrich.caffeine :
	  null;

	if (showCaffeine && caffeineVal !== null) {
	  // display block
	  caffeineWrap.style.display = 'block';

	  // calculate dots
	  const dots = Math.min(5, Math.max(0, Math.ceil(caffeineVal / 50)));

	  caffeineDots.innerHTML = '';
	  for (let i = 0; i < 5; i++) {
		caffeineDots.innerHTML += `
		  <span style="
			width:8px;height:8px;border-radius:50%;
			border:1px solid #fff;display:inline-block;margin-right:4px;
			background:${i < dots ? '#fff' : 'transparent'}"></span>`;
	  }

	  caffeineMg.textContent = `${caffeineVal} mg`;
	} else {
	  // hide completely for teas, juices, desserts etc
	  caffeineWrap.style.display = 'none';
	}


  // open
  const modal = document.getElementById('drinkModal');
  modal.classList.remove('hidden');
  modal.classList.add('flex');
  document.body.style.overflow='hidden';
}

function amourCloseModal(){
  const modal = document.getElementById('drinkModal');
  modal.classList.add('hidden');
  modal.classList.remove('flex');
  document.body.style.overflow='';
}

// listeners (safe bind after DOM ready)
(function(){
  // delegate click on cards -> open modal by data-id
  document.addEventListener('click', (e)=>{
    const img = e.target.closest('img[data-id]');
    if (img){ const id = img.getAttribute('data-id'); amourOpenModalById(id); }
  });

  // close by X
  const closeBtn = document.getElementById('modalClose');
  if (closeBtn) closeBtn.addEventListener('click', amourCloseModal);

  // close by backdrop
  const modal = document.getElementById('drinkModal');
  if (modal) modal.addEventListener('click', (e)=>{ if (e.target === modal) amourCloseModal(); });

  // esc
  document.addEventListener('keydown', (e)=>{ if (e.key==='Escape') amourCloseModal(); });
})();
</script>

</body>
</html>
